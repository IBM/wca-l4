# **JMS messaging integration**</br>*Application Modernization - WebSphere to Liberty*

!!! quote "TERMINOLOGY"
    For readability, <a href="https://www.ibm.com/products/websphere-application-server" target="_blank">**IBM WebSphere Application Server**</a> (WAS) in this chapter is referred to in shorthand as "WebSphere", unless noted otherwise. Similarly, <a href="https://www.ibm.com/products/cloud-pak-for-applications/liberty" target="_blank">**IBM WebSphere Liberty**</a> is referenced in shorthand as simply "Liberty".
    
## **i. Incentives to modernize**



---

## **ii. WebSphere legacy code**

First, examine the legacy code (below), which as mentioned previously is a snapshot of a larger application using **WebSphere's MQ JMS integration**:

=== "WEBSPHERE APPLICATION SERVER"

    ``` xml linenums="1"
    <!-- ejb-jar.xml -->
    <message-driven>
        <ejb-name>LegacyMDB</ejb-name>
        <ejb-class>com.lariat.messaging.LegacyMDB</ejb-class>
        <transaction-type>Container</transaction-type>
        <message-driven-destination>
            <destination-type>javax.jms.Queue</destination-type>
        </message-driven-destination>
    </message-driven>

    <!-- ibm-ejb-jar-bnd.xml -->
    <message-driven name="LegacyMDB">
        <activation-config>
            <activation-config-property>
                <activation-config-property-name>destination</activation-config-property-name>
                <activation-config-property-value>jms/legacyQueue</activation-config-property-value>
            </activation-config-property>
        </activation-config>
    </message-driven>
    ```

---

## **iii. Liberty modernized code**

Consider below the modernized (but functionally equivalent) application code using **Liberty's JMS configuration**:

=== "WEBSPHERE LIBERTY"

    ``` xml linenums="1"
    <!-- server.xml -->
    <server>
        <featureManager>
            <feature>jms-2.0</feature>
        </featureManager>

        <jmsQueue id="modernQueue" jndiName="jms/modernQueue" />

        <messageDrivenBean id="ModernMDB">
            <activationSpec>
                <activationSpecClass>javax.jms.Queue</activationSpecClass>
                <activationSpecProperty name="destination">jms/modernQueue</activationSpecProperty>
            </activationSpec>
            <className>com.lariat.messaging.ModernMDB</className>
        </messageDrivenBean>
    </server>
    ```

=== "WEBSPHERE APPLICATION SERVER"

    ``` xml linenums="1"
    <!-- ejb-jar.xml -->
    <message-driven>
        <ejb-name>LegacyMDB</ejb-name>
        <ejb-class>com.lariat.messaging.LegacyMDB</ejb-class>
        <transaction-type>Container</transaction-type>
        <message-driven-destination>
            <destination-type>javax.jms.Queue</destination-type>
        </message-driven-destination>
    </message-driven>

    <!-- ibm-ejb-jar-bnd.xml -->
    <message-driven name="LegacyMDB">
        <activation-config>
            <activation-config-property>
                <activation-config-property-name>destination</activation-config-property-name>
                <activation-config-property-value>jms/legacyQueue</activation-config-property-value>
            </activation-config-property>
        </activation-config>
    </message-driven>
    ```

---

## **iv. Hands-on with WCA**



---

## **v. Next steps**


